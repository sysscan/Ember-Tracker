<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EMBER | Global Wildfire Tracker</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/styles.css" />
    <script src="./scripts/index.js" defer></script>
  </head>
  <body>
    <div class="app-container">
      <header class="header">
        <div class="logo">
          <div class="logo-icon">ðŸ”¥</div>
          <div class="logo-text"><span>EMBER</span> TRACKER</div>
        </div>
        <div class="header-stats">
          <div class="stat">
            <div class="stat-value" id="fireCount">0</div>
            <div class="stat-label">Active Fires</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="lastUpdate">--:--</div>
            <div class="stat-label">Last Update</div>
          </div>
        </div>
      </header>

      <aside class="sidebar">
        <div class="panel">
          <div class="panel-title">Data Source</div>
          <div class="control-group">
            <label class="control-label">Satellite Sensor</label>
            <select id="sensorSelect">
              <option value="MODIS_NRT">MODIS (1km)</option>
              <option value="VIIRS_SNPP_NRT">VIIRS SNPP (375m)</option>
              <option value="VIIRS_NOAA20_NRT">VIIRS NOAA-20 (375m)</option>
              <option value="VIIRS_NOAA21_NRT">VIIRS NOAA-21 (375m)</option>
            </select>
          </div>
          <div class="control-group">
            <label class="control-label">Time Range (Days)</label>
            <input type="number" id="dayRange" value="2" min="1" max="10" />
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">Region</div>
          <div class="control-group">
            <label class="control-label">Preset Regions</label>
            <select id="regionPreset">
              <option value="custom">Custom</option>
              <option value="world">World</option>
              <option value="usa">United States</option>
              <option value="california">California</option>
              <option value="australia">Australia</option>
              <option value="amazon">Amazon Basin</option>
              <option value="africa">Central Africa</option>
            </select>
          </div>
          <div class="control-group">
            <label class="control-label">Bounding Box (W, S, E, N)</label>
            <div class="input-group">
              <input type="number" id="bboxW" value="-125" placeholder="West" />
              <input type="number" id="bboxS" value="25" placeholder="South" />
            </div>
          </div>
          <div class="control-group">
            <div class="input-group">
              <input type="number" id="bboxE" value="-65" placeholder="East" />
              <input type="number" id="bboxN" value="50" placeholder="North" />
            </div>
          </div>
          <button class="btn" id="fetchBtn">Fetch Fire Data</button>
        </div>

        <div class="panel">
          <div class="panel-title">Confidence Legend</div>
          <div class="legend">
            <div class="legend-item">
              <div class="legend-dot high"></div>
              <span>High Confidence</span>
            </div>
            <div class="legend-item">
              <div class="legend-dot nominal"></div>
              <span>Nominal Confidence</span>
            </div>
            <div class="legend-item">
              <div class="legend-dot low"></div>
              <span>Low Confidence</span>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">Recent Detections</div>
          <div class="fire-list" id="fireList">
            <div
              style="
                font-size: 12px;
                color: var(--text-secondary);
                text-align: center;
                padding: 20px;
              "
            >
              Click "Fetch Fire Data" to load detections
            </div>
          </div>
        </div>

        <div class="api-notice">
          <strong>NASA FIRMS API</strong><br />
          This app uses demo data. For live data, get a free API key from
          <a
            href="https://firms.modaps.eosdis.nasa.gov/api/map_key"
            target="_blank"
            >NASA FIRMS</a
          >
          and replace the MAP_KEY variable in the code.
        </div>
      </aside>

      <main class="map-container">
        <div id="map"></div>
        <div class="loading-overlay" id="loadingOverlay">
          <div class="loading-spinner"></div>
          <div class="loading-text">Fetching satellite data...</div>
        </div>
        <div class="status-bar">
          <div class="status-dot"></div>
          <span>NASA FIRMS Data Feed</span>
        </div>
      </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
  </body>
</html>
